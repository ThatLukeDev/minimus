char scancodetoascii[256] = {
	0x0,	0x0,	'1',	'2',	'3',	'4',	'5',	'6',
	'7',	'8',	'9',	'0',	'-',	'=',	0x0,	0x0,
	'q',	'w',	'e',	'r',	't',	'y',	'u',	'i',
	'o',	'p',	'[',	']',	0X0,	0X0,	'a',	's',
	'd',	'f',	'g',	'h',	'j',	'k',	'l',	';',
	'\'',	'`',	0X0,	'#',	'z',	'x',	'c',	'v',
	'b',	'n',	'm',	',',	'.',	'/',	0X0,	0X0,
	0x0,	' ',	0x0,	0x0,	0x0,	0x0,	0x0,	0x0,

	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
};

void addKeyboardHook(void (*func)(char)) {
	*(unsigned int*)0x1000 = (unsigned int)func;
	__asm__ volatile ("int $0x53");
}

void removeKeyboardHook(void (*func)(char)) {
	*(void**)(0x1000) = (void*)func;
	__asm__ volatile ("int $0x54");
}

char* getKeyStates() {
	*(void**)(0x1000) = 0;
	__asm__ volatile ("int $0x54");
	return *(char**)0x1000;
}
